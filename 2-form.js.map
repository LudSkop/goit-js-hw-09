{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["formData = {\n    email: \"\",\n    message: \"\",\n}\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst form = document.querySelector('.feedback-form');\n\nconst input = form.querySelector('input');\nconst textarea = form.querySelector('textarea');\n\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', handleSubmit);\n\n\n\nfunction onFormInput(event) {\n    if (event.target.name === \"email\"){\n        formData.email = event.target.value;\n    } else if ( event.target.name === \"message\"){\n        formData.message = event.target.value;\n    }\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\n\npopulateForm();\nfunction populateForm() {\n  const savedData = localStorage.getItem(STORAGE_KEY);\n  \n  try {\n    const parsedData = JSON.parse(savedData);\n    \n    form.elements.email.value  = parsedData.email || '';\n    form.elements.message.value = parsedData.message || '';\n    \n    formData.email = parsedData.email || '';\n    formData.message = parsedData.message || '';\n    \n  } catch (error) {\n    console.error('Помилка парсингу даних:', error);\n    localStorage.removeItem(STORAGE_KEY);\n  }\n}\n\n\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  \n  if (formData.email.trim() === '' || formData.message.trim() === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  \n  console.log(formData);\n  \n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n  \n  // Очищаємо formData\n  formData.email = '';\n  formData.message = '';\n}\n\n\n//form.addEventListener('input', textareaInput);\n\n//populateTextarea();\n\n//function textareaInput (event) {\n    //const message = event.target.value;\n    //localStorage.setItem(STORAGE_KEY, message);\n    //console.log(message);\n    //console.log(email);\n//}\n//function populateTextarea() {\n    //const newMessage = localStorage.getItem(STORAGE_KEY);\n    //if (newMessage){\n        //textarea.value = newMessage;\n    //}\n\n//}\n//form.addEventListener('submit', handleSubmit);\n\n//function handleSubmit(event) {\n    //event.preventDefault();\n    //event.currentTarget.reset();\n    //localStorage.removeItem(STORAGE_KEY);\n//}\n//const feedback= \"feedback-form-state\";\n//const message= [\"luda\", \"oleg\", \"vlad\", \"alisa\", \"pusa\"];\n//localStorage.setItem(feedback, JSON.stringify(message)); \n//localStorage.setItem(\"number\", 5);\n\n\n//const value = localStorage.getItem(feedback);\n//console.log(savedMessage);\n//console.log(JSON.parse(value));\n//localStorage.removeItem(\"number\");\n"],"names":["STORAGE_KEY","form","onFormInput","handleSubmit","event","populateForm","savedData","parsedData","error"],"mappings":"wFAAA,SAAW,CACP,MAAO,GACP,QAAS,EACb,EACA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEtCA,EAAK,cAAc,OAAO,EACvBA,EAAK,cAAc,UAAU,EAG9CA,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAI5C,SAASD,EAAYE,EAAO,CACpBA,EAAM,OAAO,OAAS,QACtB,SAAS,MAAQA,EAAM,OAAO,MACtBA,EAAM,OAAO,OAAS,YAC9B,SAAS,QAAUA,EAAM,OAAO,OAEpC,aAAa,QAAQJ,EAAa,KAAK,UAAU,QAAQ,CAAC,CAC9D,CAGAK,EAAY,EACZ,SAASA,GAAe,CACtB,MAAMC,EAAY,aAAa,QAAQN,CAAW,EAElD,GAAI,CACF,MAAMO,EAAa,KAAK,MAAMD,CAAS,EAEvCL,EAAK,SAAS,MAAM,MAASM,EAAW,OAAS,GACjDN,EAAK,SAAS,QAAQ,MAAQM,EAAW,SAAW,GAEpD,SAAS,MAAQA,EAAW,OAAS,GACrC,SAAS,QAAUA,EAAW,SAAW,EAE3C,OAASC,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9C,aAAa,WAAWR,CAAW,CACrC,CACF,CAIA,SAASG,EAAaC,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,SAAS,MAAM,SAAW,IAAM,SAAS,QAAQ,KAAI,IAAO,GAAI,CAClE,MAAM,wBAAwB,EAC9B,MACF,CAEA,QAAQ,IAAI,QAAQ,EAEpB,aAAa,WAAWJ,CAAW,EACnCC,EAAK,MAAK,EAGV,SAAS,MAAQ,GACjB,SAAS,QAAU,EACrB"}